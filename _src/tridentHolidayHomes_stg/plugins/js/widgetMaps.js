const mapCanvas=document.getElementById("map_canvas"),detectElement=new DetectElement(mapCanvas);let elementDetected=!1;function MapsWidget(e,t,a){this.data=e,this.type=t,this.mapTypeSelected=a}function loadMap(){if(detectElement.getPosition()){elementDetected=!0;let e={bk:bk,Idioma:idioma,FRMPurpose:purpose,datosRequest:datosRequest,datosBusqueda:null,type:"marker"};modeResort&&1==modeResort.value&&(e.modeResort=modeResort.value),jQuery.ajax({url:url+"?action=mapsdata",contentType:"application/json",dataType:"json",data:e,type:"GET",success:function(e){let t=new MapsWidget(e,"home",mapTypeSelected);t.initialize()}})}}if(MapsWidget.prototype={initialize:function(){let e=this.getMap();e.loadMap()},getMap:function(){return 1===mapTypeSelected?new MapBox(this.data):new GoogleMaps(this.data,this.type)}},!elementDetected){setTimeout(function(){elementDetected||loadMap()},0);let e=jQuery(window);e.on("load.detected resize.detected scroll.detected",function(){elementDetected?e.off("load.detected resize.detected scroll.detected"):loadMap()})}function loaDivdGalery(e){var t=jQuery(e).owlCarousel({lazyLoad:!0,nav:!0,navText:["<i class='icon icon-left-open'></i>","<i class='icon icon-right-open'></i>"],items:1,loop:!0});"redesign"==jQuery('input[name="skin"]').val()&&jQuery(".fa-th").click(function(){t.owlCarousel("resize")})}